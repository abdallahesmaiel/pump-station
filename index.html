<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Ø³Ø¬Ù„ Ù…Ø­Ø·Ø© Ù†Ù…ÙˆØ²Ø¬ 8 - Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        * {
            box-sizing: border-box;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        body {
            margin: 0;
            padding: 10px;
            background-color: #f5f9ff;
            color: #333;
            direction: rtl;
            font-size: 14px;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 15px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #2c5aa0;
        }
        
        h1 {
            color: #2c5aa0;
            margin-bottom: 5px;
            font-size: 1.4rem;
            line-height: 1.3;
        }
        
        h1 i {
            font-size: 1.2rem;
            margin-left: 8px;
        }
        
        .header-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
            background-color: #eef5ff;
            padding: 12px;
            border-radius: 6px;
            margin-top: 12px;
        }
        
        .header-name {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
            width: 100%;
        }
        
        .info-item label {
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .info-item input,
        .info-item select {
            padding: 10px 12px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px !important;
            width: 100%;
            height: 48px;
        }
        
        input[type="date"] {
            min-height: 48px;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 15px 0;
            padding: 12px;
            background-color: #f0f7ff;
            border-radius: 8px;
        }
        
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        
        .btn {
            padding: 14px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
            flex: 1;
            min-width: 140px;
            height: 52px;
        }
        
        .btn i {
            font-size: 18px;
        }
        
        .btn-primary {
            background-color: #2c5aa0;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #1d3d75;
        }
        
        .btn-success {
            background-color: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #1e7e34;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #545b62;
        }
        
        .table-container {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        th,
        td {
            border: 1px solid #ddd;
            padding: 12px 8px;
            text-align: center;
            font-size: 14px;
            min-width: 90px;
        }
        
        th {
            background-color: #2c5aa0;
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 10;
            font-size: 13px;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        tr:hover {
            background-color: #f0f7ff;
        }
        
        .unit-header {
            background-color: #e7f1ff !important;
            font-weight: bold;
            color: #1d3d75;
            font-size: 15px;
            padding: 15px 8px;
        }
        
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
            font-size: 16px !important;
            height: 44px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        .input-text {
            inputmode: text;
        }
        
        .input-number {
            inputmode: decimal;
        }
        
        .input-mixed {
            inputmode: text;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: 2px solid #2c5aa0;
            outline-offset: -1px;
            border-color: #2c5aa0;
        }
        
        .section-title,
        .section-to,
        .section-tox {
            background-color: #1d3d75;
            color: white;
            padding: 15px 10px;
            margin: 20px 0 15px 0;
            border-radius: 5px;
            font-size: 16px;
            text-align: center;
            line-height: 1.4;
        }
        
        .section-title i,
        .section-to i,
        .section-tox i {
            margin-left: 8px;
            font-size: 18px;
        }
        
        .footer-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f7ff;
            border-radius: 8px;
        }
        
        .footer-row {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .footer-col,
        .footer-col1 {
            width: 100%;
            text-align: center;
        }
        
        .footer-col label,
        .footer-col1 label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #1d3d75;
            font-size: 1rem;
        }
        
        .notes {
            margin-top: 15px;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px !important;
            height: 100px;
            resize: vertical;
            min-height: 100px;
            line-height: 1.5;
        }
        
        .time-slots {
            display: flex;
            justify-content: space-between;
            background-color: #e7f1ff;
            padding: 12px 8px;
            border-radius: 5px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .time-slot {
            font-weight: bold;
            color: #1d3d75;
            font-size: 13px;
            text-align: center;
            flex: 1;
            min-width: 60px;
        }
        
        .text-input {
            direction: rtl;
            text-align: right;
        }
        
        .number-input {
            direction: ltr;
            text-align: center;
        }
        
        .mixed-input {
            direction: rtl;
            text-align: right;
        }
        
        @media (min-width: 768px) {
            body {
                padding: 15px;
                font-size: 16px;
            }
            .container {
                padding: 20px;
                border-radius: 10px;
            }
            h1 {
                font-size: 1.7rem;
            }
            .header-info {
                flex-direction: row;
                flex-wrap: wrap;
            }
            .info-item {
                flex: 1;
                min-width: 200px;
            }
            .header-name {
                flex-direction: row;
                flex: 2;
            }
            .controls {
                flex-direction: row;
                justify-content: space-between;
            }
            .btn-group {
                flex-wrap: nowrap;
            }
            .btn {
                min-width: 170px;
                font-size: 16px;
                height: 54px;
            }
            .footer-row {
                flex-direction: row;
                flex-wrap: wrap;
            }
            .footer-col,
            .footer-col1 {
                flex: 1;
                min-width: 200px;
            }
            .time-slot {
                font-size: 14px;
            }
            th,
            td {
                padding: 14px 10px;
                font-size: 15px;
            }
            input[type="text"],
            input[type="number"],
            select {
                font-size: 15px !important;
                height: 42px;
            }
            textarea {
                font-size: 16px !important;
                height: 120px;
            }
        }
        
        @media (min-width: 1024px) {
            body {
                padding: 20px;
            }
            .container {
                max-width: 1400px;
                padding: 25px;
            }
            h1 {
                font-size: 1.9rem;
            }
            .controls {
                padding: 15px;
            }
            .btn {
                padding: 14px 25px;
                font-size: 17px;
                height: 56px;
            }
            .time-slots {
                padding: 14px;
            }
            .time-slot {
                font-size: 15px;
            }
            .section-title,
            .section-to,
            .section-tox {
                font-size: 18px;
                padding: 18px;
            }
            textarea {
                font-size: 16px !important;
                height: 130px;
            }
        }
        
        @media (max-width: 360px) {
            body {
                padding: 8px;
                font-size: 14px;
            }
            .container {
                padding: 10px;
            }
            h1 {
                font-size: 1.3rem;
            }
            .btn {
                padding: 12px 8px;
                font-size: 14px;
                min-width: 130px;
                height: 50px;
            }
            .btn i {
                font-size: 16px;
            }
            th,
            td {
                padding: 10px 6px;
                font-size: 13px;
            }
            input[type="text"],
            input[type="number"],
            select {
                font-size: 15px !important;
                padding: 10px 6px;
                height: 42px;
            }
            .time-slot {
                font-size: 12px;
                min-width: 55px;
            }
            .section-title,
            .section-to,
            .section-tox {
                font-size: 15px;
                padding: 12px 8px;
            }
        }
        
        @media print {
            body {
                padding: 0;
                background: white;
            }
            .container {
                box-shadow: none;
                padding: 10px;
            }
            .controls,
            .btn {
                display: none !important;
            }
            .table-container {
                overflow: visible;
            }
            table {
                min-width: 100%;
            }
            input,
            textarea {
                border: none;
                background: transparent;
            }
        }
        
        @media (hover: none) and (pointer: coarse) {
            .btn {
                min-height: 52px;
                padding: 16px 15px;
            }
            input,
            select,
            textarea {
                font-size: 18px !important;
                min-height: 50px;
            }
            input[type="text"],
            input[type="number"] {
                font-size: 18px !important;
                height: 50px;
            }
            .info-item input,
            .info-item select {
                height: 52px;
            }
        }
        
        @supports (-webkit-touch-callout: none) {
            input,
            select,
            textarea {
                font-size: 18px !important;
            }
        }
        
        .keyboard-number {
            inputmode: decimal;
        }
        
        .keyboard-text {
            inputmode: text;
        }
        
        .keyboard-mixed {
            inputmode: text;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            transform: scale(1.02);
            transition: transform 0.2s;
        }
        
        /* ØªØ®ØµÙŠØµ Ù„Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© */
        #sharedDataBtn {
            background: linear-gradient(45deg, #FF9800, #FF5722);
            color: white;
        }
        
        #sharedDataBtn:hover {
            background: linear-gradient(45deg, #F57C00, #E64A19);
        }
        
        /* ØªØ®ØµÙŠØµ Ù„Ø²Ø± Ø§Ù„Ù…Ø­Ø·Ø§Øª */
        #stationsListBtn {
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            color: white;
        }
        
        #stationsListBtn:hover {
            background: linear-gradient(45deg, #7B1FA2, #5E35B1);
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>
                <i class="fas fa-water"></i> Ø³Ø¬Ù„ Ù…Ø­Ø·Ø© Ù†Ù…ÙˆØ²Ø¬ 8 - Ù†Ø¸Ø§Ù… Ù…Ø´ØªØ±Ùƒ
            </h1>
            <p>Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>

            <div class="header-info">
                <div class="info-item">
                    <label for="station-name">ğŸ” Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø©:</label>
                    <input type="text" id="station-name" value="" class="keyboard-text" 
                           placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø© (Ø³ØªØ¸Ù‡Ø± Ù„Ùƒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)" />
                </div>
                <div class="header-name">
                    <div class="info-item">
                        <label for="operator-name">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø´ØºÙ„:</label>
                        <input type="text" id="operator-name" value="" class="keyboard-text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø´ØºÙ„" />
                    </div>

                    <div class="info-item">
                        <label for="record-date">ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®:</label>
                        <input type="date" id="record-date" value="" />
                    </div>

                    <div class="info-item">
                        <label for="shift">ğŸ• Ø§Ù„ÙˆØ±Ø¯ÙŠØ©:</label>
                        <select id="shift">
                            <option value="ØµØ¨Ø§Ø­ÙŠØ©">ØµØ¨Ø§Ø­ÙŠØ©</option>
                            <option value="Ù…Ø³Ø§Ø¦ÙŠØ©">Ù…Ø³Ø§Ø¦ÙŠØ©</option>
                        </select>
                    </div>
                </div>
            </div>
        </header>

        <div class="controls">
            <div class="btn-group">
                <button class="btn btn-primary" id="addRowBtn">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©
                </button>
                <button class="btn btn-secondary" id="resetBtn">
                    <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                </button>
            </div>

            <div class="btn-group">
                <button class="btn btn-success" id="exportBtn">
                    <i class="fas fa-file-excel"></i> ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel
                </button>
                <button class="btn btn-primary" id="printBtn">
                    <i class="fas fa-print"></i> Ø·Ø¨Ø§Ø¹Ø©
                </button>
            </div>
            
            <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
            <div class="btn-group">
                <button class="btn" id="sharedDataBtn" style="background: #FF9800;">
                    <i class="fas fa-cloud-upload-alt"></i> Ø­ÙØ¸ Ù„Ù„Ø¬Ù…ÙŠØ¹
                </button>
                <button class="btn" id="stationsListBtn" style="background: #9C27B0;">
                    <i class="fas fa-list"></i> Ø§Ù„Ù…Ø­Ø·Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©
                </button>
            </div>
        </div>

        <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙƒÙ…Ø§ Ù‡Ùˆ -->
        <div class="time-slots">
            <div class="time-slot">6:00 Øµ</div>
            <div class="time-slot">11:00 Øµ</div>
            <div class="time-slot">4:00 Ù…</div>
            <div class="time-slot">9:00 Ù…</div>
            <div class="time-slot">2:00 Øµ</div>
        </div>

        <div class="table-container">
            <table id="pumpTable">
                <thead>
                    <tr>
                        <th rowspan="2">Ø§Ù„Ø¨ÙŠØ§Ù†</th>
                        <th colspan="5">Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª</th>
                    </tr>
                    <tr>
                        <th>6:00 Øµ</th>
                        <th>11:00 Øµ</th>
                        <th>4:00 Ù…</th>
                        <th>9:00 Ù…</th>
                        <th>2:00 Øµ</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </tbody>
            </table>
        </div>

        <div class="section-title">
            <i class="fas fa-tachometer-alt"></i> Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ø§Ø¦ÙŠ Ùˆ Ø¶Ø§ØºØ· Ø§Ù„Ù‡ÙˆØ§Ø¡
        </div>

        <div class="footer-section">
            <div class="footer-row">
                <div class="footer-col">
                    <label>Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ø§Ø¦ÙŠ:</label>
                    <input type="text" id="waterPath" class="keyboard-text" placeholder="Ø£Ø¯Ø®Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ø§Ø¦ÙŠ" />
                </div>
                <div class="footer-col">
                    <label>Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø¨Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø£ÙˆÙ„:</label>
                    <input type="text" id="tank1Level" class="keyboard-text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙŠ" />
                </div>
                <div class="footer-col">
                    <label>Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø¨Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø«Ø§Ù†ÙŠ:</label>
                    <input type="text" id="tank2Level" class="keyboard-text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙŠ" />
                </div>
            </div>

            <div class="footer-row">
                <div class="footer-col">
                    <label>Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø¨Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø«Ø§Ù„Ø«:</label>
                    <input type="text" id="tank3Level" class="keyboard-text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙŠ" />
                </div>
                <div class="footer-col">
                    <label>Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ø²ÙŠØª Ø¨Ø§Ù„Ø¶Ø§ØºØ· Ø§Ù„Ø£ÙˆÙ„ / Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©:</label>
                    <input type="text" id="compressor1" class="keyboard-text" placeholder="Ù…Ø«Ø§Ù„: Ø¬ÙŠØ¯ / 45Â°C" />
                </div>
                <div class="footer-col">
                    <label>Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ø²ÙŠØª Ø¨Ø§Ù„Ø¶Ø§ØºØ· Ø§Ù„Ø«Ø§Ù†ÙŠ / Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©:</label>
                    <input type="text" id="compressor2" class="keyboard-text" placeholder="Ù…Ø«Ø§Ù„: Ø¬ÙŠØ¯ / 42Â°C" />
                </div>
            </div>

            <div class="section-to">
                <i class="fas fa-tachometer-alt"></i> Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±
            </div>

            <div class="footer-col1">
                <label>Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ø²ÙŠØª Ø¨Ø§Ù„Ø¶Ø§ØºØ· / Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©:</label>
                <input type="text" id="com" class="keyboard-text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©" />
            </div>

            <div class="section-tox">
                <i class="fas fa-tachometer-alt"></i> Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„ \ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù Ù„Ù„Ù…Ø­Ø·Ø©
            </div>

            <div class="footer-row">
                <div class="footer-col">
                    <label>ØªÙˆÙ‚ÙŠØª ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø·Ø©:</label>
                    <input type="time" id="startTime" value="06:00" />
                </div>
                <div class="footer-col">
                    <label>ØªÙˆÙ‚ÙŠØª Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø­Ø·Ø©:</label>
                    <input type="time" id="endTime" value="24:00" />
                </div>
                <div class="footer-col">
                    <label>Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø·Ø© Ø®Ù„Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…:</label>
                    <input type="text" id="totalHours" class="keyboard-number" placeholder="Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹" />
                </div>
            </div>

            <div class="notes">
                <label for="dailyNotes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ÙŠÙˆÙ…:</label>
                <textarea id="dailyNotes" class="keyboard-text" 
                          placeholder="Ø£Ø¯Ø®Ù„ Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù‡Ø§Ù…Ø© Ø¹Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø·Ø© Ø§Ù„ÙŠÙˆÙ…..."></textarea>
            </div>
        </div>

        <div style="text-align: center; margin-top: 25px; color: #666; font-size: 14px; padding: 10px; border-top: 1px solid #eee;">
            <p>ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨ÙˆØ§Ø³Ø·Ø© Ù†Ù…ÙˆØ°Ø¬ Ø³Ø¬Ù„ Ù…Ø­Ø·Ø© Ø¶Ø® Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ù†Ø³Ø®Ø© 2025</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // ============================================
        // âš ï¸ âš ï¸ âš ï¸ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¹Ø¯Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª âš ï¸ âš ï¸ âš ï¸
        // ============================================
        const GITHUB_INFO = {
            // 1. Ø§Ø³Ù…Ùƒ Ø¹Ù„Ù‰ GitHub (Ù…Ø«Ù„Ø§Ù‹: ahmed123)
            username: "abdallah",
            
            // 2. Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ GitHub (Ù…Ø«Ù„Ø§Ù‹: pump-station)
            repo: "pump-station",
            
            // 3. Ø§Ù„Ù€ Token Ø§Ù„Ø°ÙŠ Ù†Ø³Ø®ØªÙ‡ Ù…Ù† GitHub
            token: "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",
            
            // 4. Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§ØªØ±ÙƒÙ‡ ÙƒÙ…Ø§ Ù‡Ùˆ)
            file: "station-data.json"
        };
        // ============================================

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© (Ø§ØªØ±ÙƒÙ‡Ø§ ÙƒÙ…Ø§ Ù‡ÙŠ)
        const pumpUnits = [{
            name: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
            items: [{
                name: "Ø§Ù„Ù…Ù†Ø³ÙˆØ¨",
                id: "level1",
                unit: "Ø³Ù…",
                inputType: "mixed",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù†Ø³ÙˆØ¨ Ø¨Ø§Ù„Ø³Ù…"
            }, {
                name: "Ù‚Ø±Ø§Ø¡Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø·Ø§Ù‚Ø©",
                id: "energy1",
                unit: "Ùƒ.Ùˆ.Ø³",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯"
            }, {
                name: "Ù‚Ø±Ø§Ø¡Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø·Ø§Ù‚Ø© Ù¢",
                id: "energy2",
                unit: "Ùƒ.Ùˆ.Ø³",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©"
            }, {
                name: "Ø§Ù„Ø¬Ù‡Ø¯",
                id: "voltage1",
                unit: "ÙÙˆÙ„Øª",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¬Ù‡Ø¯ Ø¨Ø§Ù„ÙÙˆÙ„Øª"
            }, {
                name: "Ø§Ù„Ø¶ØºØ·",
                id: "daght",
                unit: "Ø¨Ø§Ø±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
            }]
        }, {
            name: "Ø§Ù„ÙˆØ­Ø¯Ø© Ø±Ù‚Ù… Ù¡",
            type: "unit",
            unitNumber: 1,
            items: [{
                name: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª",
                id: "totalHours1",
                unit: "Ø³Ø§Ø¹Ø©",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª"
            }, {
                name: "ÙØªØ­Ø© Ù…Ø­Ø¨Ø³ Ø§Ù„Ø·Ø±Ø¯ (%)",
                id: "valve1",
                unit: "%",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©"
            }, {
                name: "Ø¶ØºØ· Ø³Ø­Ø¨ Ø§Ù„Ù…Ø¶Ø®Ø©",
                id: "suction1",
                unit: "Ø¨Ø§Ø±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
            }, {
                name: "Ø¶ØºØ· Ø·Ø±Ø¯ Ø§Ù„Ù…Ø¶Ø®Ø©",
                id: "discharge1",
                unit: "Ø¨Ø§Ø±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
            }, {
                name: "Ø­Ø§Ù„Ø© Ø­Ø±Ø§Ø±Ø© ÙƒØ±Ø³ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„",
                id: "bearing1",
                unit: "Â°C",
                inputType: "mixed",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©"
            }, {
                name: "Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ",
                id: "seal1",
                unit: "",
                inputType: "text",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ"
            }, {
                name: "Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØªÙˆØ±",
                id: "motorTemp1",
                unit: "",
                inputType: "mixed",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©"
            }, {
                name: "Ø´Ø¯Ø© ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØªÙˆØ±",
                id: "motorCurrent1",
                unit: "Ø£Ù…Ø¨ÙŠØ±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø´Ø¯Ø© Ø§Ù„ØªÙŠØ§Ø±"
            }]
        }, {
            name: "Ø§Ù„ÙˆØ­Ø¯Ø© Ø±Ù‚Ù… Ù¢",
            type: "unit",
            unitNumber: 2,
            items: [{
                name: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª",
                id: "totalHours2",
                unit: "Ø³Ø§Ø¹Ø©",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª"
            }, {
                name: "ÙØªØ­Ø© Ù…Ø­Ø¨Ø³ Ø§Ù„Ø·Ø±Ø¯ (%)",
                id: "valve2",
                unit: "%",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©"
            }, {
                name: "Ø¶ØºØ· Ø³Ø­Ø¨ Ø§Ù„Ù…Ø¶Ø®Ø©",
                id: "suction2",
                unit: "Ø¨Ø§Ø±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
            }, {
                name: "Ø¶ØºØ· Ø·Ø±Ø¯ Ø§Ù„Ù…Ø¶Ø®Ø©",
                id: "discharge2",
                unit: "Ø¨Ø§Ø±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
            }, {
                name: "Ø­Ø§Ù„Ø© Ø­Ø±Ø§Ø±Ø© ÙƒØ±Ø³ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„",
                id: "bearing2",
                unit: "Â°C",
                inputType: "mixed",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©"
            }, {
                name: "Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ",
                id: "seal2",
                unit: "",
                inputType: "text",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ"
            }, {
                name: "Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØªÙˆØ±",
                id: "motorTemp2",
                unit: "",
                inputType: "mixed",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©"
            }, {
                name: "Ø´Ø¯Ø© ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØªÙˆØ±",
                id: "motorCurrent2",
                unit: "Ø£Ù…Ø¨ÙŠØ±",
                inputType: "number",
                placeholder: "Ø£Ø¯Ø®Ù„ Ø´Ø¯Ø© Ø§Ù„ØªÙŠØ§Ø±"
            }]
        }];

        // Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
        const timeSlots = ["6:00", "11:00", "16:00", "21:00", "2:00"];

        // ============================================
        // Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ù„ÙŠ)
        // ============================================
        
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
        document.getElementById("record-date").valueAsDate = new Date();

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„
        const tableBody = document.getElementById("tableBody");

        function generateTable() {
            tableBody.innerHTML = "";
            const sortedUnits = [...pumpUnits].sort((a, b) => {
                if (a.name === "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª") return -1;
                if (b.name === "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª") return 1;
                if (a.unitNumber && b.unitNumber) return a.unitNumber - b.unitNumber;
                return 0;
            });

            sortedUnits.forEach((unit) => {
                const unitHeaderRow = document.createElement("tr");
                const unitHeaderCell = document.createElement("td");
                unitHeaderCell.colSpan = 6;
                unitHeaderCell.textContent = unit.name;
                unitHeaderCell.className = "unit-header";
                unitHeaderRow.appendChild(unitHeaderCell);
                tableBody.appendChild(unitHeaderRow);

                unit.items.forEach((item) => {
                    const row = document.createElement("tr");
                    const nameCell = document.createElement("td");
                    nameCell.textContent = item.name;
                    row.appendChild(nameCell);

                    timeSlots.forEach((time, timeIndex) => {
                        const inputCell = document.createElement("td");
                        const input = document.createElement("input");
                        
                        if (item.inputType === "number") {
                            input.type = "text";
                            input.inputMode = "decimal";
                            input.className = "data-input keyboard-number number-input";
                        } else if (item.inputType === "mixed") {
                            input.type = "text";
                            input.inputMode = "text";
                            input.className = "data-input keyboard-mixed mixed-input";
                        } else {
                            input.type = "text";
                            input.inputMode = "text";
                            input.className = "data-input keyboard-text text-input";
                        }

                        input.placeholder = item.placeholder || (item.unit ? `Ø£Ø¯Ø®Ù„ ${item.unit}` : "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø©");
                        input.id = `${item.id}_${timeIndex}`;
                        input.setAttribute("data-unit", item.unit || "");
                        input.setAttribute("autocomplete", "off");

                        inputCell.appendChild(input);
                        row.appendChild(inputCell);
                    });

                    tableBody.appendChild(row);
                });
            });
        }

        // Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ù„ÙŠ
        const STORAGE_KEY = 'pump_local_data';

        function saveLocalData() {
            const data = getFormData();
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        function loadLocalData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (!saved) return false;
            
            try {
                const data = JSON.parse(saved);
                loadDataIntoForm(data);
                return true;
            } catch {
                return false;
            }
        }

        function getFormData() {
            const data = {
                stationName: document.getElementById('station-name').value,
                operatorName: document.getElementById('operator-name').value,
                recordDate: document.getElementById('record-date').value,
                shift: document.getElementById('shift').value,
                
                tableData: {},
                
                waterPath: document.getElementById('waterPath').value,
                tank1Level: document.getElementById('tank1Level').value,
                tank2Level: document.getElementById('tank2Level').value,
                tank3Level: document.getElementById('tank3Level').value,
                compressor1: document.getElementById('compressor1').value,
                compressor2: document.getElementById('compressor2').value,
                com: document.getElementById('com').value,
                startTime: document.getElementById('startTime').value,
                endTime: document.getElementById('endTime').value,
                totalHours: document.getElementById('totalHours').value,
                dailyNotes: document.getElementById('dailyNotes').value,
                
                savedAt: new Date().toISOString()
            };
            
            document.querySelectorAll('.data-input').forEach(input => {
                const value = input.value.trim();
                if (value !== '') {
                    data.tableData[input.id] = value;
                }
            });
            
            return data;
        }

        function loadDataIntoForm(data) {
            if (!data) return;
            
            document.getElementById('station-name').value = data.stationName || '';
            document.getElementById('operator-name').value = data.operatorName || '';
            document.getElementById('record-date').value = data.recordDate || '';
            document.getElementById('shift').value = data.shift || 'ØµØ¨Ø§Ø­ÙŠØ©';
            
            if (data.tableData) {
                for (const [inputId, value] of Object.entries(data.tableData)) {
                    const input = document.getElementById(inputId);
                    if (input) input.value = value;
                }
            }
            
            const fields = [
                'waterPath', 'tank1Level', 'tank2Level', 'tank3Level',
                'compressor1', 'compressor2', 'com',
                'startTime', 'endTime', 'totalHours', 'dailyNotes'
            ];
            
            fields.forEach(field => {
                if (data[field]) {
                    const element = document.getElementById(field);
                    if (element) element.value = data[field];
                }
            });
            
            setTimeout(calculateTotalHours, 100);
        }

        // ============================================
        // Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨ÙŠÙ† Ø§Ù„Ù‡ÙˆØ§ØªÙ
        // ============================================

        // Ù†Ø¸Ø§Ù… GitHub Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        class SharedDataSystem {
            constructor() {
                this.baseURL = `https://api.github.com/repos/${GITHUB_INFO.username}/${GITHUB_INFO.repo}/contents`;
                this.isConfigured = this.checkConfig();
            }
            
            checkConfig() {
                if (GITHUB_INFO.username.includes('Ø¶Ø¹-Ø§Ø³Ù…Ùƒ') || 
                    GITHUB_INFO.repo.includes('Ø¶Ø¹-Ø§Ø³Ù…') || 
                    GITHUB_INFO.token.includes('Ø¶Ø¹-Ø§Ù„Ø±Ù…Ø²')) {
                    return false;
                }
                return true;
            }
            
            // Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† GitHub
            async getAllData() {
                if (!this.isConfigured) {
                    console.log("âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… ØºÙŠØ± Ù…Ù‡ÙŠØ¡ - ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª GitHub");
                    return { stations: {} };
                }
                
                try {
                    const response = await fetch(`${this.baseURL}/${GITHUB_INFO.file}`, {
                        headers: {
                            'Authorization': `token ${GITHUB_INFO.token}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });
                    
                    if (!response.ok) {
                        // Ø¥Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯ØŒ Ù†Ù†Ø´Ø¦ Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                        if (response.status === 404) {
                            return { stations: {}, lastUpdated: new Date().toISOString() };
                        }
                        throw new Error('ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                    }
                    
                    const fileData = await response.json();
                    const content = atob(fileData.content); // ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±
                    return JSON.parse(content);
                    
                } catch (error) {
                    console.log("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:", error.message);
                    return { stations: {} };
                }
            }
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ GitHub
            async saveAllData(data) {
                if (!this.isConfigured) return false;
                
                try {
                    // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø­Ø§Ù„ÙŠ
                    let sha = '';
                    try {
                        const currentFile = await fetch(`${this.baseURL}/${GITHUB_INFO.file}`, {
                            headers: {
                                'Authorization': `token ${GITHUB_INFO.token}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        });
                        
                        if (currentFile.ok) {
                            const fileData = await currentFile.json();
                            sha = fileData.sha;
                        }
                    } catch (e) {
                        // Ø§Ù„Ù…Ù„Ù Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯ØŒ Ø¹Ø§Ø¯ÙŠ
                    }
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const updatedData = {
                        ...data,
                        lastUpdated: new Date().toISOString()
                    };
                    
                    // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù†Øµ Ù…Ø´ÙØ±
                    const content = btoa(JSON.stringify(updatedData, null, 2));
                    
                    // Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù
                    const response = await fetch(`${this.baseURL}/${GITHUB_INFO.file}`, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${GITHUB_INFO.token}`,
                            'Accept': 'application/vnd.github.v3+json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            message: `ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø·Ø§Øª - ${new Date().toLocaleString('ar-EG')}`,
                            content: content,
                            sha: sha || undefined
                        })
                    });
                    
                    return response.ok;
                    
                } catch (error) {
                    console.log("âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error.message);
                    return false;
                }
            }
            
            // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø·Ø© Ù…Ø¹ÙŠÙ†Ø©
            async getStationData(stationName) {
                const allData = await this.getAllData();
                return allData.stations?.[stationName] || null;
            }
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø·Ø©
            async saveStationData(stationName, stationData) {
                const allData = await this.getAllData();
                
                // ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…ØµÙÙˆÙØ© Ø§Ù„Ù…Ø­Ø·Ø§Øª
                if (!allData.stations) {
                    allData.stations = {};
                }
                
                // Ø¥Ø¶Ø§ÙØ©/ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                allData.stations[stationName] = {
                    data: stationData,
                    updatedAt: new Date().toISOString(),
                    updatedBy: document.getElementById('operator-name').value || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ',
                    shift: document.getElementById('shift').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'
                };
                
                return await this.saveAllData(allData);
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        const sharedSystem = new SharedDataSystem();

        // ============================================
        // Ø§Ù„Ø±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ø£Ù†Ø¸Ù…Ø©
        // ============================================

        // Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø©
        document.getElementById('station-name').addEventListener('blur', async function() {
            const stationName = this.value.trim();
            
            if (stationName && stationName.length > 2) {
                // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø­Ù‚Ù„ Ù„Ù„Ø¥Ø´Ø§Ø±Ø© Ù„Ù„Ø¨Ø­Ø«
                const originalColor = this.style.backgroundColor;
                this.style.backgroundColor = '#e8f5e9';
                
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©
                const stationData = await sharedSystem.getStationData(stationName);
                
                if (stationData && stationData.data) {
                    // Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙŠØ±ÙŠØ¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    setTimeout(() => {
                        const lastUpdate = stationData.updatedAt ? 
                            new Date(stationData.updatedAt).toLocaleString('ar-EG') : 
                            'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                        
                        if (confirm(`âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø§Ø¨Ù‚Ø© Ù„Ù„Ù…Ø­Ø·Ø© "${stationName}"\nØ¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${lastUpdate}\n\nÙ‡Ù„ ØªØ±ÙŠØ¯ ØªØ­Ù…ÙŠÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ`)) {
                            loadDataIntoForm(stationData.data);
                            saveLocalData(); // Ø­ÙØ¸ Ù…Ø­Ù„ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                        }
                        this.style.backgroundColor = originalColor;
                    }, 500);
                } else {
                    setTimeout(() => {
                        this.style.backgroundColor = originalColor;
                    }, 300);
                }
            }
        });

        // Ø²Ø± Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¬Ù…ÙŠØ¹
        document.getElementById('sharedDataBtn').addEventListener('click', async function() {
            const stationName = document.getElementById('station-name').value.trim();
            
            if (!stationName) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            if (!sharedSystem.isConfigured) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª GitHub ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙƒÙˆØ¯');
                return;
            }
            
            const btn = this;
            const originalText = btn.innerHTML;
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...';
            
            try {
                // 1. Ø­ÙØ¸ Ù…Ø­Ù„ÙŠ
                const formData = getFormData();
                saveLocalData();
                
                // 2. Ø­ÙØ¸ Ù…Ø´ØªØ±Ùƒ
                const success = await sharedSystem.saveStationData(stationName, formData);
                
                if (success) {
                    alert(`âœ… ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø·Ø© "${stationName}" Ù„Ù„Ø¬Ù…ÙŠØ¹\nÙŠÙ…ÙƒÙ† Ù„Ù„ÙˆØ±Ø¯ÙŠØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ø±Ø¤ÙŠØªÙ‡Ø§`);
                } else {
                    alert('âŒ ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©');
                }
            } catch (error) {
                alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸');
            } finally {
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });

        // Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø·Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©
        document.getElementById('stationsListBtn').addEventListener('click', async function() {
            if (!sharedSystem.isConfigured) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª GitHub ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙƒÙˆØ¯');
                return;
            }
            
            const btn = this;
            const originalText = btn.innerHTML;
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
            
            try {
                const allData = await sharedSystem.getAllData();
                const stations = allData.stations || {};
                
                if (Object.keys(stations).length === 0) {
                    alert('ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø·Ø§Øª Ù…Ø³Ø¬Ù„Ø© Ø¨Ø¹Ø¯');
                } else {
                    let stationsList = 'ğŸ“‹ Ø§Ù„Ù…Ø­Ø·Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©:\n\n';
                    Object.keys(stations).forEach((name, index) => {
                        const station = stations[name];
                        const date = station.updatedAt ? 
                            new Date(station.updatedAt).toLocaleDateString('ar-EG') : 
                            'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                        const by = station.updatedBy ? ` - ${station.updatedBy}` : '';
                        stationsList += `${index + 1}. ${name} (${date})${by}\n`;
                    });
                    
                    const selected = prompt(`${stationsList}\n\nØ£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ ØªØ­Ù…ÙŠÙ„Ù‡Ø§:`);
                    if (selected && stations[selected]) {
                        if (confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø·Ø© "${selected}"ØŸ`)) {
                            document.getElementById('station-name').value = selected;
                            loadDataIntoForm(stations[selected].data);
                            saveLocalData();
                        }
                    }
                }
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø·Ø§Øª');
            } finally {
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });

        // ============================================
        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ©
        // ============================================

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener("DOMContentLoaded", function() {
            generateTable();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
            setTimeout(() => {
                loadLocalData();
            }, 300);
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            setupAutoSave();
        });

        // Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©
        document.getElementById("addRowBtn").addEventListener("click", function() {
            let maxUnitNumber = 2;
            pumpUnits.forEach(unit => {
                if (unit.type === "unit" && unit.unitNumber > maxUnitNumber) {
                    maxUnitNumber = unit.unitNumber;
                }
            });

            const nextUnitNumber = maxUnitNumber + 1;
            if (nextUnitNumber > 9) {
                alert("Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ÙˆØ­Ø¯Ø§Øª Ù‡Ùˆ 9 ÙˆØ­Ø¯Ø§Øª");
                return;
            }

            const newUnit = {
                name: `Ø§Ù„ÙˆØ­Ø¯Ø© Ø±Ù‚Ù… ${nextUnitNumber}`,
                type: "unit",
                unitNumber: nextUnitNumber,
                items: [{
                    name: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª",
                    id: `totalHours${nextUnitNumber}`,
                    unit: "Ø³Ø§Ø¹Ø©",
                    inputType: "number",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª"
                }, {
                    name: "ÙØªØ­Ø© Ù…Ø­Ø¨Ø³ Ø§Ù„Ø·Ø±Ø¯ (%)",
                    id: `valve${nextUnitNumber}`,
                    unit: "%",
                    inputType: "number",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©"
                }, {
                    name: "Ø¶ØºØ· Ø³Ø­Ø¨ Ø§Ù„Ù…Ø¶Ø®Ø©",
                    id: `suction${nextUnitNumber}`,
                    unit: "Ø¨Ø§Ø±",
                    inputType: "number",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
                }, {
                    name: "Ø¶ØºØ· Ø·Ø±Ø¯ Ø§Ù„Ù…Ø¶Ø®Ø©",
                    id: `discharge${nextUnitNumber}`,
                    unit: "Ø¨Ø§Ø±",
                    inputType: "number",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø¨Ø§Ø±"
                }, {
                    name: "Ø­Ø§Ù„Ø© Ø­Ø±Ø§Ø±Ø© ÙƒØ±Ø³ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„",
                    id: `bearing${nextUnitNumber}`,
                    unit: "Â°C",
                    inputType: "mixed",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©"
                }, {
                    name: "Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ",
                    id: `seal${nextUnitNumber}`,
                    unit: "",
                    inputType: "text",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ"
                }, {
                    name: "Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØªÙˆØ±",
                    id: `motorTemp${nextUnitNumber}`,
                    unit: "",
                    inputType: "mixed",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø©"
                }, {
                    name: "Ø´Ø¯Ø© ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØªÙˆØ±",
                    id: `motorCurrent${nextUnitNumber}`,
                    unit: "Ø£Ù…Ø¨ÙŠØ±",
                    inputType: "number",
                    placeholder: "Ø£Ø¯Ø®Ù„ Ø´Ø¯Ø© Ø§Ù„ØªÙŠØ§Ø±"
                }]
            };

            pumpUnits.push(newUnit);
            generateTable();
            
            // Ø­ÙØ¸ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
            setTimeout(saveLocalData, 100);
        });

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        document.getElementById("resetBtn").addEventListener("click", function() {
            if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")) {
                document.getElementById("station-name").value = "";
                document.getElementById("operator-name").value = "";
                document.getElementById("record-date").valueAsDate = new Date();
                document.getElementById("shift").value = "ØµØ¨Ø§Ø­ÙŠØ©";

                document.getElementById("waterPath").value = "";
                document.getElementById("tank1Level").value = "";
                document.getElementById("tank2Level").value = "";
                document.getElementById("tank3Level").value = "";
                document.getElementById("compressor1").value = "";
                document.getElementById("compressor2").value = "";
                document.getElementById("com").value = "";
                document.getElementById("startTime").value = "06:00";
                document.getElementById("endTime").value = "24:00";
                document.getElementById("totalHours").value = "";
                document.getElementById("dailyNotes").value = "";

                document.querySelectorAll('.data-input').forEach(input => {
                    input.value = "";
                });

                while (pumpUnits.length > 3) {
                    pumpUnits.pop();
                }

                generateTable();
                calculateTotalHours();
                saveLocalData();
            }
        });

        // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        document.getElementById("printBtn").addEventListener("click", function() {
            window.print();
        });

        // ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel
        document.getElementById("exportBtn").addEventListener("click", function() {
            exportToExcel();
        });

        function exportToExcel() {
            // Ø£ÙˆÙ„Ø§Ù‹ Ù†Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            saveLocalData();
            
            const wsData = [];
            wsData.push(["Ø³Ø¬Ù„ Ù…Ø­Ø·Ø© Ø¶Ø® - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø·Ø©"]);
            wsData.push([]);
            wsData.push(["Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø©", document.getElementById("station-name").value]);
            wsData.push(["Ø§Ø³Ù… Ø§Ù„Ù…Ø´ØºÙ„", document.getElementById("operator-name").value]);
            wsData.push(["Ø§Ù„ØªØ§Ø±ÙŠØ®", document.getElementById("record-date").value]);
            wsData.push(["Ø§Ù„ÙˆØ±Ø¯ÙŠØ©", document.getElementById("shift").value]);
            wsData.push([]);
            wsData.push(["Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª"]);
            wsData.push([]);

            const tableHeaders = ["Ø§Ù„Ø¨ÙŠØ§Ù†", "6:00 Øµ", "11:00 Øµ", "4:00 Ù…", "9:00 Ù…", "2:00 Øµ"];
            wsData.push(tableHeaders);

            const rows = document.querySelectorAll("#pumpTable tbody tr");
            rows.forEach(row => {
                const rowData = [];
                const cells = row.querySelectorAll("td");
                cells.forEach((cell, index) => {
                    if (index === 0) {
                        rowData.push(cell.textContent);
                    } else if (index <= 5) {
                        const input = cell.querySelector("input");
                        const value = input ? input.value : cell.textContent;
                        const unit = input ? input.getAttribute("data-unit") : "";

                        if (value) {
                            if (unit && unit.trim() !== "") {
                                rowData.push(`${value} ${unit}`);
                            } else {
                                rowData.push(value);
                            }
                        } else {
                            rowData.push("");
                        }
                    }
                });
                if (rowData.length > 0) {
                    wsData.push(rowData);
                }
            });

            wsData.push([]);
            wsData.push(["Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"]);
            wsData.push([]);

            const additionalData = [
                ["Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ø§Ø¦ÙŠ", document.getElementById("waterPath").value],
                ["Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø¨Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø£ÙˆÙ„", document.getElementById("tank1Level").value],
                ["Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø¨Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø«Ø§Ù†ÙŠ", document.getElementById("tank2Level").value],
                ["Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø¨Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø«Ø§Ù„Ø«", document.getElementById("tank3Level").value],
                ["Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ø²ÙŠØª Ø¨Ø§Ù„Ø¶Ø§ØºØ· Ø§Ù„Ø£ÙˆÙ„ / Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©", document.getElementById("compressor1").value],
                ["Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ø²ÙŠØª Ø¨Ø§Ù„Ø¶Ø§ØºØ· Ø§Ù„Ø«Ø§Ù†ÙŠ / Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©", document.getElementById("compressor2").value],
                ["Ù…Ø³ØªÙˆÙŠ Ø§Ù„Ø²ÙŠØª Ø¨Ø§Ù„Ø¶Ø§ØºØ· / Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©", document.getElementById("com").value],
                ["ØªÙˆÙ‚ÙŠØª ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø·Ø©", document.getElementById("startTime").value],
                ["ØªÙˆÙ‚ÙŠØª Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø­Ø·Ø©", document.getElementById("endTime").value],
                ["Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø·Ø© Ø®Ù„Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…", document.getElementById("totalHours").value],
                ["Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ÙŠÙˆÙ…", document.getElementById("dailyNotes").value]
            ];

            additionalData.forEach(item => {
                wsData.push(item);
            });

            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.aoa_to_sheet(wsData);

            const wscols = [
                { wch: 30 }, { wch: 20 }, { wch: 20 },
                { wch: 20 }, { wch: 20 }, { wch: 20 }
            ];
            ws["!cols"] = wscols;

            XLSX.utils.book_append_sheet(wb, ws, "Ø³Ø¬Ù„ Ù…Ø­Ø·Ø© Ø§Ù„Ø¶Ø®");

            const stationName = document.getElementById("station-name").value || "Ù…Ø­Ø·Ø© Ø§Ù„Ø¶Ø®";
            const date = document.getElementById("record-date").value || new Date().toISOString().split("T")[0];
            const fileName = `${stationName}_${date}.xlsx`;

            XLSX.writeFile(wb, fileName);
            alert("ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ù…Ù„Ù Excel Ø¨Ù†Ø¬Ø§Ø­");
        }

        // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„
        document.getElementById("startTime").addEventListener("change", calculateTotalHours);
        document.getElementById("endTime").addEventListener("change", calculateTotalHours);

        function calculateTotalHours() {
            const startTime = document.getElementById("startTime").value;
            const endTime = document.getElementById("endTime").value;

            if (startTime && endTime) {
                const start = new Date(`2000-01-01T${startTime}`);
                const end = new Date(`2000-01-01T${endTime}`);

                if (end < start) {
                    end.setDate(end.getDate() + 1);
                }

                const diffMs = end - start;
                const diffHours = diffMs / (1000 * 60 * 60);
                document.getElementById("totalHours").value = diffHours.toFixed(2);
            }
        }

        calculateTotalHours();

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        function setupAutoSave() {
            let saveTimer;
            
            function scheduleSave() {
                clearTimeout(saveTimer);
                saveTimer = setTimeout(() => {
                    saveLocalData();
                }, 2000);
            }
            
            // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„
            const allInputs = document.querySelectorAll('input, textarea, select');
            allInputs.forEach(input => {
                input.addEventListener('input', scheduleSave);
                input.addEventListener('change', scheduleSave);
            });
            
            // Ø­ÙØ¸ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
            setInterval(saveLocalData, 60000);
            
            // Ø­ÙØ¸ Ø¹Ù†Ø¯ Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„ØµÙØ­Ø©
            window.addEventListener('beforeunload', saveLocalData);
        }

        // ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ
        document.addEventListener('touchstart', function() {}, { passive: true });

        document.addEventListener('focusin', function(event) {
            if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {
                setTimeout(() => {
                    event.target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 300);
            }
        });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
